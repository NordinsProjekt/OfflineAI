@inject DashboardState Dashboard

<CollapsibleSection SectionKey="files" Title="Files">
    <div class="oa-field">
        <label>Inbox</label>
        <input type="text" class="oa-text" value="@(Dashboard.InboxService?.CurrentStatus ?? "Not configured")" readonly>
    </div>
    <div class="oa-field">
        <label>Status</label>
        <input type="text" class="oa-text" value="@(Dashboard.InboxService?.IsProcessing == true ? "Processing..." : "Ready")" readonly>
    </div>
    <button class="oa-btn oa-btn-secondary oa-btn-block" @onclick="async () => await Dashboard.ReloadInboxAsync()"
            disabled="@(Dashboard.InboxService?.IsProcessing == true)">
        Reload Inbox
    </button>
    <button class="oa-btn oa-btn-secondary oa-btn-block" @onclick="async () => await ConvertPdfToTxtAsync()"
            disabled="@(Dashboard.InboxService?.IsProcessing == true)">
        PDF to TXT
    </button>
</CollapsibleSection>

@code {
    private async Task ConvertPdfToTxtAsync()
    {
        await Dashboard.ConvertPdfToTxtInInboxAsync();
    }
}
