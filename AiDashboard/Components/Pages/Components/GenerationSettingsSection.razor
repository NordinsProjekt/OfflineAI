@inject DashboardState Dashboard

<CollapsibleSection SectionKey="generation" Title="Generation">
    <div class="oa-field">
        <label>Temperature</label>
        <input type="number" min="0" max="2" step="0.1" class="oa-text" @bind="Dashboard.SettingsService.Temperature" @bind:event="oninput">
    </div>
    <div class="oa-field">
        <label>Max Tokens</label>
        <input type="number" min="1" max="4096" class="oa-text" @bind="Dashboard.SettingsService.MaxTokens" @bind:event="oninput">
    </div>
    <div class="oa-field">
        <label>Timeout (seconds)</label>
        <input type="number" min="10" max="300" class="oa-text" @bind="Dashboard.SettingsService.TimeoutSeconds" @bind:event="oninput">
    </div>
    <div class="oa-grid2">
        <div class="oa-field">
            <label>Top-K</label>
            <input type="number" min="1" max="100" class="oa-text" @bind="Dashboard.SettingsService.TopK" @bind:event="oninput">
        </div>
        <div class="oa-field">
            <label>Top-P</label>
            <input type="number" min="0" max="1" step="0.01" class="oa-text" @bind="Dashboard.SettingsService.TopP" @bind:event="oninput">
        </div>
    </div>
    <div class="oa-grid2">
        <div class="oa-field">
            <label>Repeat Penalty</label>
            <input type="number" min="0" max="2" step="0.01" class="oa-text" @bind="Dashboard.SettingsService.RepeatPenalty" @bind:event="oninput">
        </div>
        <div class="oa-field">
            <label>Presence Penalty</label>
            <input type="number" min="0" max="2" step="0.01" class="oa-text" @bind="Dashboard.SettingsService.PresencePenalty" @bind:event="oninput">
        </div>
    </div>
    <div class="oa-field">
        <label>Frequency Penalty</label>
        <input type="number" min="0" max="2" step="0.01" class="oa-text" @bind="Dashboard.SettingsService.FrequencyPenalty" @bind:event="oninput">
    </div>
</CollapsibleSection>

<CollapsibleSection SectionKey="rag" Title="RAG Settings">
    <div class="oa-field">
        <label title="Number of relevant chunks to retrieve (1-5)">Top-K Chunks</label>
        <input type="number" min="1" max="5" class="oa-text" @bind="Dashboard.SettingsService.RagTopK" @bind:event="oninput">
        <small class="oa-hint">Number of knowledge chunks to use (1-5)</small>
    </div>
    <div class="oa-field">
        <label title="Minimum similarity score to include chunk (0.3-0.8)">Min Relevance</label>
        <input type="number" min="0.3" max="0.8" step="0.05" class="oa-text" @bind="Dashboard.SettingsService.RagMinRelevanceScore" @bind:event="oninput">
        <small class="oa-hint">Minimum similarity score (0.3=loose, 0.8=strict)</small>
    </div>
</CollapsibleSection>
